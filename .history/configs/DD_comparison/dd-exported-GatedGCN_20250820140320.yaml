# DDæ•°æ®é›†å¯¹æ¯”å®éªŒ - ä½¿ç”¨å¯¼å‡ºçš„tokenåŒ–æ•°æ®
# æ¨¡å‹: GatedGCN  
# æ•°æ®æº: TokenizerGraphé¡¹ç›®å¯¼å‡ºçš„æ ‡å‡†åŒ–æ•°æ®

out_dir: results
metric_best: accuracy
metric_agg: argmax
wandb:
  use: False  # å¯ä»¥è®¾ç½®ä¸ºTrueæ¥è®°å½•å®éªŒ
  project: DD-comparison-exported

dataset:
  format: PyG-TUDataset  # ä»ä½¿ç”¨TUDatasetæ ¼å¼ï¼Œä½†ä¼šè¢«å¯¼å‡ºæ•°æ®è¦†ç›–
  name: DD
  task: graph
  task_type: classification_binary  # DDæ˜¯äºŒåˆ†ç±»ä»»åŠ¡
  transductive: False
  node_encoder: True
  node_encoder_name: LinearNode  # å¯¼å‡ºæ•°æ®ä½¿ç”¨LinearNodeç¼–ç å™¨ï¼ˆtokenåŒ–ç‰¹å¾ï¼‰
  node_encoder_bn: False
  edge_encoder: True   # å¯ç”¨è¾¹ç¼–ç å™¨ï¼Œå°†1ç»´tokenç‰¹å¾ç¼–ç åˆ°éšè—ç»´åº¦
  edge_encoder_name: LinearEdge
  edge_encoder_bn: False

train:
  mode: custom
  batch_size: 32  # ä¸åŸå§‹æ•°æ®é…ç½®å®Œå…¨ç›¸åŒ
  eval_period: 1
  ckpt_period: 50
  ckpt_clean: True  # æ¸…ç†æ—§checkpointèŠ‚çœç©ºé—´

model:
  type: custom_gnn
  loss_fun: cross_entropy  # äºŒåˆ†ç±»ä½¿ç”¨äº¤å‰ç†µæŸå¤±
  graph_pooling: mean

gnn:
  layers_pre_mp: 0
  layers_mp: 4  # ä¸åŸå§‹æ•°æ®é…ç½®å®Œå…¨ç›¸åŒ
  layers_post_mp: 1
  dim_inner: 64  # ä¸åŸå§‹æ•°æ®é…ç½®å®Œå…¨ç›¸åŒ
  layer_type: gatedgcnconv
  act: relu
  residual: True
  dropout: 0.1  # ä¸åŸå§‹æ•°æ®é…ç½®å®Œå…¨ç›¸åŒ
  agg: mean
  normalize_adj: False

optim:
  optimizer: adamW
  weight_decay: 1e-4  # ä¸åŸå§‹æ•°æ®é…ç½®å®Œå…¨ç›¸åŒ
  base_lr: 0.001      # ä¸åŸå§‹æ•°æ®é…ç½®å®Œå…¨ç›¸åŒ
  max_epoch: 200      # ä¸åŸå§‹æ•°æ®é…ç½®å®Œå…¨ç›¸åŒ
  scheduler: reduce_on_plateau
  reduce_factor: 0.5
  schedule_patience: 20
  min_lr: 1e-6

# æ•°æ®é¢„å¤„ç†é…ç½®
prep:
  use_exported_data: True  # ğŸ”¥ å…³é”®ï¼šä½¿ç”¨å¯¼å‡ºçš„æ ‡å‡†åŒ–æ•°æ®
  exported_data_dir: '/home/gzy/py/Graph-Mamba/export_system/exported/'  # å¯¼å‡ºæ•°æ®ç›®å½•

# å…¶ä»–è®¾ç½®
accelerator: auto
seed: 42  # ä¸åŸå§‹æ•°æ®é…ç½®å®Œå…¨ç›¸åŒï¼Œç¡®ä¿å…¬å¹³å¯¹æ¯”
